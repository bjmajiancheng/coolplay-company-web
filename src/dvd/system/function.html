<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>菜单管理</title>
</head>

<body>
<div class="super-theme-example">
    <div class="form-item col-md-4">
        <label class="label-top">菜单名称：</label>
        <input name="functionName" class="easyui-validatebox easyui-textbox" prompt="请输入菜单名称">
    </div>

    <div class="form-item col-md-3">
        <a href="javascript:void(0)" onclick="refreshCompanyFunction()" class="easyui-linkbutton primary">查询</a>
        <a href="javascript:void(0)" onclick="addCompanyFunction()" class="easyui-linkbutton primary">新增菜单</a>
    </div>
</div>

<div class="clear"></div>
<div class="super-theme-example">
    <div style="height: 340px;">
        <table id="companyFunctionTab"></table>
    </div>

    <div id="companyFunctionWin" class="align_center" style="display: none;padding-top:30px;" title="新增菜单">
        <div class="form-item col-md-10">
            <label class="label-top">菜单名称：</label>
            <input class="easyui-validatebox easyui-textbox" prompt="请输入菜单名称">
        </div>

        <div class="form-item col-md-10">
            <a href="javascript:void(0)" class="easyui-linkbutton primary">保存</a>
            <a href="javascript:void(0)" class="easyui-linkbutton primary">取消</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    $('#companyFunctionTab').datagrid({
        url: App.href + '/api/common/companyFunction/list',
        fit: true,
        pagination: true,
        fitColumns: true,
        method: 'GET',
        pageSize: 10,
        pageList: [10, 25, 50, 100, 200],
        height: 340,
        queryParams: {},
        toolbar: [],
        loadFilter: function(data) {
            if (data.code === 401) {
                App.showMsg('token失效,请登录!');
                window.location.href = App.href + '/login.html';
                return {"total":0, "rows": "[]"};
            } else {
                return data;
            }
        },
        onBeforeLoad: function (param) {
            var functionName = $("input[name=functionName]").val();

            param.functionName = functionName;
        },
        columns: [
            [{
                field: 'id',
                title: '序号',
                sortable: true,
                width: 50
            }, {
                field: 'functionName',
                title: '部门名称',
                width: 50
            }, {
                field: 'ctime',
                title: '创建时间',
                width: 50
            }, {
                field: 'custom_col1',
                title: '操作',
                width: 50,
                align: 'center',
                formatter: function(value, row, index) {
                    var btns = new Array();
                    btns.push('<a href="javascript:void(0)" class="easyui-linkbutton primary" onclick="">查看</a>&nbsp;');
                    btns.push('<a href="javascript:void(0)" class="easyui-linkbutton primary" onclick="">修改</a>');
                    return btns.join('');
                }
            }]
        ]
    });

    function refreshCompanyFunction() {

    }

    /**
     * 添加公司角色
     *
     */
    function addCompanyFunction() {
        $('#companyFunctionWin').window({
            width:600,
            height:400,
            modal:true
        });
    }

</script>
</body>

</html>