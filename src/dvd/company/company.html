<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>企业注册信息</title>
</head>
<body>
<h2 style="font-size: 25px; margin: 15px;" class="align_center">企业注册信息</h2>
<div class="super-theme-example">
    <form id="companyDetailForm" method="post">
        <input type="hidden" name="id">
        <div class="form-item col-md-5">
            <label class="label-top">公司名称：</label>
            <input id="companyDetail_companyName" name="companyName" class="easyui-validatebox easyui-textbox" prompt="请输入公司名称" data-options="required:true, missingMessage:'请输入公司名称'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">联系人：</label>
            <input id="companyDetail_contactName" name="contactName" class="easyui-validatebox easyui-textbox" prompt="请输入联系人" data-options="required:true, missingMessage:'请输入联系人'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">电话：</label>
            <input id="companyDetail_contactMobile" name="contactMobile" class="easyui-validatebox easyui-textbox" prompt="请输入电话" data-options="required:true, missingMessage:'请输入电话'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">地址：</label>
            <input id="companyDetail_contactAddress" name="contactAddress" class="easyui-validatebox easyui-textbox" prompt="请输入地址" data-options="required:true, missingMessage:'请输入地址'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">主营项目：</label>
            <input id="companyDetail_majorProject" name="majorProject" class="easyui-validatebox easyui-textbox" prompt="请输入主营项目" data-options="required:true, missingMessage:'请输入主营项目'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">公司简介：</label>
            <input id="companyDetail_companyDesc" name="companyDesc" class="easyui-validatebox easyui-textbox" prompt="请输入公司简介" data-options="required:true, missingMessage:'请输入公司简介'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">营业执照附件：</label>
            <input name="businessLicenseUrl" class="easyui-validatebox easyui-textbox" prompt="请输入营业执照附件">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">法人身份证号码：</label>
            <input id="companyDetail_legalIdcard" name="legalIdcard" class="easyui-validatebox easyui-textbox" prompt="请输入法人身份证号码" data-options="required:true, missingMessage:'请输入法人身份证号码'">
        </div>

        <div class="form-item col-md-5">
            <label class="label-top">身份证正反面图片：</label>
            <input name="idcardPositivePhoto" class="easyui-validatebox easyui-textbox" prompt="请输入身份证正反面图片">
        </div>

        <div class="clear"></div>

        <div class="form-item col-md-10 align_center">
            <a href="javascript:void(0)" onclick="updateCompany()" class="easyui-linkbutton primary">提交修改</a>
        </div>
    </form>
</div>

<script type="text/javascript">
    ;(function ($, window, document, undefined){
        App.getRequestData('/api/common/company/companyInfo', {}, function(data) {
            $("#companyDetailForm").find("input[name=id]").val(data.id);
            $("#companyDetail_companyName").textbox('setValue', data.companyName);
            $("#companyDetail_contactName").textbox('setValue', data.contactName);
            $("#companyDetail_contactMobile").textbox('setValue', data.contactMobile);
            $("#companyDetail_contactAddress").textbox('setValue', data.contactAddress);
            $("#companyDetail_majorProject").textbox('setValue', data.majorProject);
            $("#companyDetail_companyDesc").textbox('setValue', data.companyDesc);
            $("#companyDetail_legalIdcard").textbox('setValue', data.legalIdcard);
        });

        $('#companyDetailForm').form({
            url: App.href + '/api/common/company/updateCompany',
            method: 'POST',
            onSubmit:function(){
                return $(this).form('validate');
            },
            success:function(data){
                var obj = JSON.parse(data);
                if (obj.code == 200) {
                    App.showMsg('保存成功');
                } else {
                    App.showMsg(obj.message);
                }
            }
        });

    })(jQuery, window, document);

    function updateCompany() {
        $("#companyDetailForm").submit();
    }
</script>
</body>
</html>